function mvcPatch(n){return $(".mvcpath").val()+n}function newGuid(){function n(){return((1+Math.random())*65536|0).toString(16).substring(1)}return(n()+n()+"-"+n()+"-4"+n().substr(0,3)+"-"+n()+"-"+n()+n()+n()).toLowerCase()}function NewGuid(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function numberWithCommas(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function userPopup(){for(var t=-1,n=0;n<PopupList.length;n++)$("body").find("."+PopupList[n]).length>0&&(t=n);return t==-1?0:t+1}function addCommas(n,t){n=parseFloat(n).toFixed(t);n+="";x=n.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";for(var i=/(\d+)(\d{3})/;i.test(x1);)x1=x1.replace(i,"$1,$2");return x1+x2}function htmlEscape(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlUnescape(n){return n.replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function html_br(n){try{return n.replace(new RegExp("\r?\n","g"),"<br />")}catch(t){return""}}function getImgRecordStatusItem(n){var t;return n===RecordStatusItem.Return?t="Image/Item_Return.png":n===RecordStatusItem.Owner?t="Image/Item_Owner.png":n===RecordStatusItem.Transfer?t="Image/Item_Transfer.png":n===RecordStatusItem.Donate?t="Image/Item_Donate.png":n===RecordStatusItem.Sell?t="Image/Item_Sell.png":n===RecordStatusItem.Destroy?t="Image/Item_Destroy.png":n===RecordStatusItem.New?t="Image/Item_New.png":n===RecordStatusItem.Pause?t="Image/Item_Pause.png":n===RecordStatusItem.Reuse&&(t="Image/Item_Reuse.png"),t}function getImgRecordStatusDoc(n){var t;return n===RecordStatus.Cancel?t="Image/Arrow_Delete.png":n===RecordStatus.Prepare?t="Image/Arrow_Redo.png":n===RecordStatus.WaitingCheck?t="Image/Arrow_Redo.png":n===RecordStatus.Pending?t="Image/Arrow_Redo.png":n===RecordStatus.Approve?t="Image/Arrow_Approve.png":n===RecordStatus.Disapproval?t="Image/Arrow_Cancel.png":n===RecordStatus.Edit&&(t="Image/Arrow_Undo.png"),t}function getRecordStatus(n){return n===!0?"Image/true_tab.png":"Image/false_tab.png"}function getTransferAssetStepText(n){var t;return n===TransferAssetStep.EmpOwner?t="ผู้ขอโอน":n===TransferAssetStep.DepByManagers?t="ผู้จัดการแผนก":n===TransferAssetStep.DepByOwner?t="แผนกผู้ดูแลทรัพย์สิน":n===TransferAssetStep.EmpOwnerNew&&(t="ผู้ถือครอบครองทรัพย์สินใหม่"),t}function cUser(){this.UserID;this.UserName;this.TitleThai;this.FNameThai;this.LNameThai;this.NNameThai;this.CompanysId;this.CompanysName;this.BranchId;this.BranchName;this.DepartmentId;this.DepartmentName;this.PositionId;this.PositionName}function beginLogin(n){User=Object.create(cUser.prototype);User.setData(n)}function endLogout(){User=null;$.removeCookie("AssetSystemUSERProfile")}function checkUndefined(n){return n===undefined?!0:n===null?!0:!1}function showLoginPage(){$("#datashow").css({opacity:0}).load("Pages/Login.aspx",function(){$(this).stop().animate({opacity:1},400,function(){$.ShowCustomButton();endLogout()})})}function Logout(){$(".displayProfile").stop().animate({right:"-50px",opacity:0},100,function(){$(this).css({display:"none"});$("#datashow").stop().animate({opacity:0},400,function(){showLoginPage()})})}function getEmp(){try{return JSON.parse($.cookie("UserEmp"))}catch(n){return""}}function setDataLogin(n){beginLogin(n);$("#c1").is(":checked")?($.cookie("AssetSystemTranId",User.UserID,{expires:7}),$.cookie("AssetSystemUserId",User.UserName,{expires:7}),$.cookie("AssetSystemChecked",!0,{expires:7}),$.cookie("AssetSystemCompanysId",User.CompanysId,{expires:7}),$.cookie("AssetSystemCompanysName",User.CompanysName,{expires:7}),$.cookie("AssetSystemBranchId",User.BranchId,{expires:7}),$.cookie("AssetSystemBranchName",User.BranchName,{expires:7})):($.removeCookie("AssetSystemTranId"),$.removeCookie("AssetSystemUserId"),$.removeCookie("AssetSystemChecked"),$.removeCookie("AssetSystemCompanysId"),$.removeCookie("AssetSystemCompanysName"),$.removeCookie("AssetSystemBranchId"),$.removeCookie("AssetSystemBranchName"));$.removeCookie("AssetSystemUSERProfile");$.cookie("AssetSystemUSERProfile",JSON.stringify(User),{expires:7});$(".displayProfile_LoginName").text(User.TitleThai+User.FNameThai+" "+User.LNameThai+User.NNameThai);$(".displayProfile_Company").text(User.DisplayProfile);var t=$.trim(User.PositionName).length===0?"":'<span class="spDisplay">ตำแหน่ง : <\/span>';$(".displayProfile_Position").text($.trim(User.PositionName).length===0?"":User.PositionName).prepend(t);t=$.trim(User.DepartmentName).length===0?"":'<span class="spDisplay">แผนก : <\/span>';$(".displayProfile_Department").text($.trim(User.DepartmentName).length===0?"":User.DepartmentName).prepend(t);$("#datashow").stop().animate({opacity:0},400,function(){$(this).load("Pages/MainMenuList.html",function(){$(".nameModule").text("");$(".iconModule").empty();$(this).stop().animate({opacity:1},200)})})}function setLogin(){$("input[type=text], input[type=password]").off("focus").on({focus:function(){$(this).select()}});checkUndefined($.cookie("AssetSystemChecked"))?($("#txtUserName").focus(),$("#form1").data("CompanysId",-1),$("#form1").data("BranchId",-1)):($("#txtUserName").val($.cookie("AssetSystemUserId")),$("#textPassword").focus(),$("#c1").prop("checked",!0),$("#form1").data("CompanysId",$.cookie("AssetSystemCompanysId")),$("#form1").data("BranchId",$.cookie("AssetSystemBranchId")),$(".div_changeCompany").text($.cookie("AssetSystemCompanysName")),$(".div_changBranch").text($.cookie("AssetSystemBranchName")))}function checkDisplay(n){return n===!0?"block":"none"}function CloneDataObjectToValue(n){return JSON.parse(JSON.stringify(n))}function getDateNow(){var i=new Date,n=i.getDate(),t=i.getMonth()+1,r=i.getFullYear();return n<10&&(n="0"+n),t<10&&(t="0"+t),n+"/"+t+"/"+r}function getDateCustom(n){var r=new Date(n),t=r.getDate(),i=r.getMonth()+1,u=r.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),t+"/"+i+"/"+u}function getDateCustom2(n){var r=n===undefined?new Date:n,t=r.getDate(),i=r.getMonth()+1,u=r.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),t+"/"+i+"/"+u}function getTimemCustom(n,t,i){var o=new Date(n),u=o.getHours(),f=o.getMinutes(),e=o.getSeconds(),r;return i===2&&(u<10&&(u="0"+u),f<10&&(f="0"+f),e<10&&(e="0"+e)),r="",t==="H"?r=u:t==="M"?r=f:t==="S"?r=e:t==="F"&&(r=u+":"+f+":"+e),r}function getDateCustomWithTime(n){var t=new Date(n),i=t.getDate(),r=t.getMonth()+1,u=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getFullYear();return i<10&&(i="0"+i),r<10&&(r="0"+r),u<10&&(u="0"+u),f<10&&(f="0"+f),e<10&&(e="0"+e),i+"/"+r+"/"+o+" "+u+":"+f+":"+e}function getDateJson(n){return getDateCustom(parseInt(n.substring(6)))}function getDateJsonWithTime(n){return getDateCustomWithTime(parseInt(n.substring(6)))}function getTimeJson(n,t,i){return getTimemCustom(parseInt(n.substring(6)),t,i)}function setDateJson(n){var t=n.split("/");return new Date(parseInt(t[2]),parseInt(t[1])-1,parseInt(t[0]))}function setDateJsonTime(n,t){var r=n.split("/"),i;return t=t===undefined?"00:00:00":t,i=t.split(":"),new Date(parseInt(r[2]),parseInt(r[1])-1,parseInt(r[0]),parseInt(i[0]),parseInt(i[1]),parseInt(i[2]))}function setDateJsonTime_DDMMyyyHHmm(n){var t=n.split(" ")[0].split("/"),i=n.split(" ")[1].split(":");return new Date(parseInt(t[2]),parseInt(t[1])-1,parseInt(t[0]),parseInt(i[0]),parseInt(i[1]))}function getDateJsonTime_DDMMyyyyHHmm(n){var e=parseInt(n.substring(6)),t=new Date(e),i=t.getDate(),r=t.getMonth()+1,u=t.getHours(),f=t.getMinutes(),o=t.getFullYear();return i<10&&(i="0"+i),r<10&&(r="0"+r),u<10&&(u="0"+u),f<10&&(f="0"+f),i+"/"+r+"/"+o+" "+u+":"+f}function getDateJsonTimeToDateTime(n){return setDateJsonTime_DDMMyyyHHmm(getDateJsonTime_DDMMyyyyHHmm(n))}function jsonToDateTime(n){return new Date(parseInt(n.substring(6)))}function jsonToJavaDate(n){return new Date(parseInt(n.substring(6))).toJSON()}function ShowDateToJavaDate(n){return setDateJson(n).toJSON()}function checkNullAndReturn(n){return n===null||n==="null"||n===""?-1:n}function CloneDataToValue(n){return JSON.parse(JSON.stringify(n))}function isValidEmailAddress(n){var t=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);return t.test(n)}function fileExtension(n){var t=new RegExp(/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/);return n.match(t)[0]}function getIconFile(n){var t;return n=$.trim(fileExtension(n)).toUpperCase(),t="",$.inArray(n,[".TXT"])!==-1?'<i class="fa fa-file-text-o"><\/i>':$.inArray(n,[".PDF"])!==-1?'<i class="fa fa-file-pdf-o"><\/i>':$.inArray(n,[".DOC",".DOCX"])!==-1?'<i class="fa fa-file-word-o"><\/i>':$.inArray(n,[".XLS",".XLSX"])!==-1?'<i class="fa fa-file-excel-o"><\/i>':$.inArray(n,[".PPT",".PPTX"])!==-1?'<i class="fa fa-file-powerpoint-o"><\/i>':$.inArray(n,[".WAV",".CDA",".MP3",".WMA",".RA",".MID"])!==-1?'<i class="fa fa-file-audio-o"><\/i>':$.inArray(n,[".AVI",".XVID",".MP4",".MKV",".MPEG",".MPEG4",".WMV",".3GP"])!==-1?'<i class="fa fa-file-video-o"><\/i>':$.inArray(n,[".GIF",".JPG",".JPEG",".PNG",".TIF",".PSD",".BMP",".EPS",".PIC",".RAW"])!==-1?'<i class="fa fa-file-image-o"><\/i>':$.inArray(n,[".ZIP",".RAR",".7Z"])!==-1?'<i class="fa fa-file-archive-o"><\/i>':'<i class="fa fa-file-o"><\/i>'}var PopupList=["customPopup","customPopup_1","customPopup_2","customPopup_3","customPopup_4"],PopupList_sub=["popUpBG01","popUpBG01_1","popUpBG01_2","popUpBG01_3","popUpBG01_4"],PopupList_sub_item=["popUpBG02","popUpBG02_1","popUpBG02_2","popUpBG02_3","popUpBG02_4"],User;const Guid="00000000-0000-0000-0000-000000000000",FormatCodeAsset=":GG-:YY:MM-:SS-:RRR",F_SPEC="9A191E52-582D-4F7B-99ED-108C79DF7123",F_MSDS="00028684-4BE7-49BD-98C6-25A0378DEDB3",F_PICTURE="CE62610A-D937-4B9C-9658-3E510B593ACD",F_COA="BD07894B-D451-4EB0-9DB9-A0B0F1566CFE",F_TESTREPORT="378388A5-E17B-4583-8E92-E44AFD5C459F",F_OLD="00000000-0000-0000-0000-000000000000",regexpMail=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,regexpNumber=/^[0-9]+$/,regexpDecimal=/^\d+(?:\.\d{1,2})?$/,empPictureType=["jpg","gif","png"];$.removeCookie("AssetSystemUSERProfile");var ImageStatus={Old:0,New:1,Delete:2},RecordStatus={Cancel:0,Prepare:1,WaitingCheck:2,Pending:3,Approve:4,Disapproval:5,Edit:6},RecordStatusItem={Return:0,Owner:1,Transfer:2,Donate:3,Sell:4,Destroy:5,New:6,Pause:7,Reuse:8},TransferAssetStep={EmpOwner:1,DepByManagers:2,DepByOwner:3,EmpOwnerNew:4};var RowStatus={Inactive:0,Active:1},ModuleType={IT:"8D783B11-5AAD-49C5-876D-8407E684E258",Administration:"18A9335C-FA2F-4D58-8834-8C5CF7269470"},ASSET_DOCU_DocumentationOfAssets={IDKey:"95D81286-4D3B-49CA-9BF5-EDE082EB8E38",LenderBy:0,WitnessBy_1:1,WitnessBy_2:2};cUser.prototype={setData:function(n){this.UserID=n.item.tranId;this.UserName=n.item.userName;this.TitleThai=n.item.titleThai;this.FNameThai=n.item.fNameThai;this.LNameThai=n.item.lNameThai;this.NNameThai=n.item.nNameThai;this.CompanysId=n.companyInfo.companysId;this.CompanysName=n.companyInfo.companysName;this.BranchId=n.companyInfo.branchId;this.BranchName=n.companyInfo.branchName;this.DisplayProfile=n.companyInfo.displayProfile;this.DepartmentId=n.item.DepartmentId;this.DepartmentName=n.item.DepartmentName;this.PositionId=n.item.PositionId;this.PositionName=n.item.PositionName}};User={},function(n){n.fn.openPage=function(t){var i=n.extend({url:"",speed:200,callback:function(){},data:{},type:"post",title:""},t);return i.type==="get"&&(i.data=null),this.each(function(){i.url!=""&&n(this).stop().animate({opacity:0},i.speed,function(){var t='<div class="cssload-piano">';t+='<div class="cssload-rect1"><\/div>';t+='<div class="cssload-rect2"><\/div>';t+='<div class="cssload-rect3"><\/div>';t+="<\/div>";var r=n(this).offset(),u=r.top,f=r.left,s=f+n(this).outerWidth(),h=u+n(this).outerHeight(),o=n("body#bodySystem"),e=n(this);o.remove(".cssload-piano").append(t).find(".cssload-piano").css({left:f+"px",top:u+"px"}).stop().animate({opacity:1},i.speed,function(){e.load(i.url,i.data,function(){var t=n(this).find("form");n("div.userStyleButton").each(function(t,i){n(i).CustomButton()});e.stop().animate({opacity:1},i.speed,function(){n(".cssload-piano").stop().animate({opacity:0},i.speed,function(){n(this).remove();n(".ui-timepicker-wrapper").remove();n(".title").text(i.title);i.callback(t)})})})})})})};n.ShowCustomButton=function(t){var i=n.extend({buttonNew:!1,buttonSearch:!1,buttonNewDocuments:!1,NewDocumentsClick:function(t){n(".bodyDetail").openPage({url:"Pages/Transaction/T_DocumentsHistory/DocumentsHistoryAdd.aspx",callback:function(){n(".documentCode").text(t.attr("xCode"));n(".documentDescription").text(t.attr("xDescription"));n("#form_DocumentsHistoryAdd").data("Status","A");n("#form_DocumentsHistoryAdd").data("RowKey",Guid);n("#form_DocumentsHistoryAdd").data("DocumentsKey",t.attr("class"))}})},buttonBack:!1,buttonSave:!1,buttonSend:!1,buttonApprove:!1,buttonUnApprove:!1,buttonReward:!1,buttonPrinter:!1,buttonRedo:!1,buttonSort:!1,buttonHistory:!1,buttonExportExcel:!1,buttonExportRemains:!1,butCallback:function(){}},t);n(".liAdd").css({display:checkDisplay(i.buttonNew)});n(".liSearch, .liSearchText").css({display:checkDisplay(i.buttonSearch)});n(".liAddList").css({display:checkDisplay(i.buttonNewDocuments)}).each(function(t,r){n.ajax({url:"Ajax/Master/M_Documents/DocumentsByliaddList.ashx",type:"post",dataType:"json",data:{UserId:n("#hid_tranId").val()},success:function(t){n(".liAddList_list").remove();var u='<div class="liAddList_list"><ul>';n.each(t,function(n,t){u+='<li class="'+t.RowKey+'" xCode="'+t.DocumentCode+'" xDescription="'+t.DocumentDescription+'">'+t.DocumentCode+" : "+t.DocumentDescription+"<\/li>"});u+="<\/ul><\/div>";n(r).append(u).off("mouseenter mouseleave").on({mouseenter:function(){n(".liAddList_list").css({display:"block"}).stop().animate({opacity:1},100)},mouseleave:function(){n(".liAddList_list").stop().animate({opacity:0},100,function(){n(this).css({display:"none"})})}}).find("li").off("click").on({click:function(){i.NewDocumentsClick(n(this))}})}})});n(".liBack").css({display:checkDisplay(i.buttonBack)});n(".liSave").css({display:checkDisplay(i.buttonSave)});n(".liSend").css({display:checkDisplay(i.buttonSend)});n(".liApprove").css({display:checkDisplay(i.buttonApprove)});n(".liUnApprove").css({display:checkDisplay(i.buttonUnApprove)});n(".liReward").css({display:checkDisplay(i.buttonReward)});n(".liPrinter").css({display:checkDisplay(i.buttonPrinter)});n(".liRedo").css({display:checkDisplay(i.buttonRedo)});n(".liSort").css({display:checkDisplay(i.buttonSort)});n(".liHistory").css({display:checkDisplay(i.buttonHistory)});n(".liExportExcel").css({display:checkDisplay(i.buttonExportExcel)});n(".liExportRemains").css({display:checkDisplay(i.buttonExportRemains)});i.butCallback()};n.fn.CustomButton=function(){return this.each(function(){n(this).off("mouseenter mouseleave").on({mouseenter:function(){n(this).stop().animate({"background-color":"#3BC500"},100)},mouseleave:function(){n(this).stop().animate({"background-color":"#2a8d00"},300)}})})};n.fn.CustomCalendar=function(){return this.each(function(){n(this).css({"text-align":"center"}).off("keydown").on({keydown:function(){return!1}}).datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"Image/Calendar.png"})})};n.fn.CustomSearchMaster=function(t){var i=n.extend({urlSearchPage:"",urlAddPage:"",searchWidth:"300px",addWidth:"300px",searchHeight:"300px",addHeight:"300px",searchCallback:function(){},addCallback:function(){},searchTitle:"",addTitle:"",keyValue:Guid,searchOnly:!1,Only:!1},t);return this.each(function(){var r=n(this),t,u;r.css({"text-align":"left"}).off("keydown").on({keydown:function(){return!1}});t='<div class="SearchMasterIcon">';i.Only===!1?(t+='<img class="CSMasterSearch" src="Image/Find.png"  />',i.searchOnly===!1&&(t+='<img class="CSMasterNew" src="Image/New.png"  />')):r.prop("readonly",!0);u=r.attr("class").split(" ");t+='<input type="hidden" id="'+u[0]+'" />';t+="<\/div>";n(t).insertAfter(r).find("#"+u[0]).val(i.keyValue).parent("div").find(".CSMasterSearch").off("click").on({click:function(){n.CustomPopup({url:i.urlSearchPage,width:i.searchWidth,height:i.searchHeight,callback:i.searchCallback,title:i.searchTitle})}}).next(".CSMasterNew").off("click").on({click:function(){n.CustomPopup({url:i.urlAddPage,width:i.addWidth,height:i.addHeight,callback:i.addCallback,title:i.addTitle})}})})};n.fn.CustomSearchMasterButtonOnly=function(t){var i=n.extend({urlSearchPage:"",searchWidth:"300px",searchHeight:"300px",searchCallback:function(){},searchTitle:""},t);return this.each(function(){var t=n(this);t.off("click").on({click:function(){n.CustomPopup({url:i.urlSearchPage,width:i.searchWidth,height:i.searchHeight,callback:i.searchCallback,title:i.searchTitle})}})})};n.CustomPopupReport=function(t){var i=n.extend({url:"",width:"95%",height:"95%",callback:function(){},data:null,title:""},t),f=userPopup(),s=PopupList[f],e=PopupList_sub[f],u=PopupList_sub_item[f],r='<div class="'+s+'"><div class="'+e+'">',o;r+="<\/div>";r+='<div class="'+u+'" style="width:'+i.width+";height:"+i.height+';overflow: hidden;"><div class="btnCloseReport">Exit<\/div>';r+='<form id="form_sendvalue" action="'+i.url+'" method="post" target="viframe">';r+='<input type="hidden" id="viframe_value" name="viframe_value"><\/input>';r+="<\/form>";r+="<\/div><\/div>";o='<iframe id="viframe" name="viframe" style="height:100%;width:100%;border-width:0px;"><\/iframe>';n("body").append(r).find("."+u).each(function(t,r){n(r).find("#viframe_value").val(i.data)}).append(o).find("#viframe").each(function(t,r){var f=n(r).find("form");n.each(f.parent("div").children("link"),function(){var t=n(this).attr("href")+"?v="+(new Date).valueOf();n(this).prop("href",t)});i.callback(f);n("."+u).find("#form_sendvalue").submit();n("."+e).stop().animate({opacity:.9},300);n("."+u).stop().animate({opacity:1},300,function(){n(this).find(".btnCloseReport").off("click").on({click:function(){n.CustomPopupRemove()}})});i.title!==""&&f.find(".popUpTitle").text(i.title);n("bl,style").remove()})};n.CustomPopup=function(t){var i=n.extend({url:"",btnActin:"",width:"300px",height:"300px",callback:function(){},title:""},t),r=userPopup(),o=PopupList[r],u=PopupList_sub[r],f=PopupList_sub_item[r],e='<div class="'+o+'"><div class="'+u+'"><\/div>';e+='<div class="'+f+'" style="width:'+i.width+";height:"+i.height+'"><\/div><\/div>';n("body").append(e).find("."+f).load(i.url+"?v="+(new Date).valueOf(),function(){var t=n(this).find("form");n.each(t.parent("div").children("link"),function(){var t=n(this).attr("href")+"?v="+(new Date).valueOf();n(this).prop("href",t)});n("."+u).stop().animate({opacity:.9},300);n(this).stop().animate({opacity:1},300,function(){n(this).find("#btuCancel").off("click").on({click:function(){n.CustomPopupRemove()}});i.callback(t)});i.title!==""&&t.find(".popUpTitle").text(i.title);n("bl,style").remove()})};n.CustomPopupRemove=function(t){var f=n.extend({callback:function(){}},t),i=userPopup();i=i!=0?i-1:0;var e=PopupList[i],o=PopupList_sub[i],r=PopupList_sub_item[i],u=n("."+e);u.find("."+o+", ."+r+"").stop().animate({opacity:0},300,function(){u.remove();n(this).attr("class")===r&&f.callback()})};n.fn.ShowLoading=function(t){var i=n.extend({action:"show"},t);return this.each(function(){var t=n(this);t.LoadingOverlay(i.action,{image:mvcPatch("image/puff.svg"),color:"rgba(44, 62, 80, 0.8)"})})};n.reqDataCheckUser=function(t){var i=n.extend({url:"",callback:function(){},data:{}},t);n.ajax({url:i.url,type:"post",dataType:"json",data:i.data,success:function(n){i.callback(n)}})};n.reqData=function(t){var i=n.extend({url:"",callback:function(){},data:{},loanding:!0,loandingclose:!0},t);i.loanding&&n("#bodySystem").ShowLoading();n.ajax({url:i.url,type:"post",dataType:"json",data:i.data,success:function(t){i.callback(t);i.loandingclose&&n("#bodySystem").ShowLoading({action:"hide"})}})};n.reqFile=function(t){var i=n.extend({url:"",callback:function(){},data:new FormData,loanding:!0,loandingclose:!0},t);i.loanding&&n("#bodySystem").ShowLoading();n.ajax({url:i.url,type:"post",dataType:"json",data:i.data,cache:!1,processData:!1,contentType:!1,success:function(t){i.callback(t);i.loandingclose&&n("#bodySystem").ShowLoading({action:"hide"})}})};n.reqDownloadFile=function(t){var i=n.extend({url:"",callback:function(){},data:new FormData,loanding:!0,loandingclose:!0},t);i.loanding&&n("#bodySystem").ShowLoading();n.ajax({url:i.url,type:"post",data:i.data,cache:!1,processData:!1,contentType:!1,success:function(t){i.callback(t);i.loandingclose&&n("#bodySystem").ShowLoading({action:"hide"})}})};n.fn.NumericOnly=function(t){var i=n.extend({decimalpoint:2,maxnumber:-1},t);return this.each(function(){n(this).val()===""&&n(this).val(0..toFixed(i.decimalpoint));n(this).off("keypress").on({keypress:function(t,i){var r=t.which?t.which:event.keyCode;return(r!=45||n(i).val().indexOf("-")!=-1)&&(r!=46||n(i).val().indexOf(".")!=-1)&&(r<48||r>57)?!1:!0},focusout:function(){try{var t=Number(n(this).val());isNaN(t)?n(this).val(0..toFixed(i.decimalpoint)):n(this).val(t.toFixed(i.decimalpoint))}catch(r){n(this).val(0..toFixed(i.decimalpoint))}i.maxnumber>-1&&(parseInt(n(this).val())>parseInt(i.maxnumber)?n(this).val(i.maxnumber):parseInt(n(this).val())<1&&n(this).val(1))}})})};n.fn.CloneDataObject=function(t){var i=n.extend({dataKey:"data",data:{}},t);return this.each(function(){n(this).removeData(i.dataKey).data(i.dataKey,JSON.parse(JSON.stringify(i.data)))})};n.fn.SetDataPost=function(t){var i=n.extend({data:{}},t);return this.each(function(){var t=n(this);n.each(Object.keys(i.data),function(n,r){t.find("#"+r).remove();t.append('<input type="hidden" name="'+r+'" id="'+r+'" value="'+Object.values(i.data)[n]+'" />')})})};n.fn.TextEditCustom=function(t){var i=n.extend({},t);return this.each(function(){n(this).Editor({texteffects:!0,aligneffects:!0,textformats:!0,fonteffects:!0,actions:!0,insertoptions:!0,extraeffects:!0,advancedoptions:!0,screeneffects:!0,bold:!0,italics:!0,underline:!0,ol:!1,ul:!1,undo:!1,redo:!1,l_align:!0,r_align:!0,c_align:!0,justify:!0,insert_link:!1,unlink:!1,insert_img:!1,hr_line:!1,block_quote:!1,source:!1,strikeout:!1,indent:!1,outdent:!1,styles:!1,print:!1,rm_format:!1,status_bar:!0,splchars:!1,insert_table:!1,select_all:!1,togglescreen:!1})})};n.EmpLogin=function(t){var i=n.extend({tranid:-1,callback:function(){}},t);n.reqData({url:"ajax/GetEmp.ashx",data:{tranId:i.tranid},callback:function(t){n.removeCookie("UserEmp");var r=t;r.birthday=jsonToDateTime(r.birthday);r.nameFull=r.title+r.fName+" "+r.lName;n.cookie("UserEmp",JSON.stringify(r),{expires:7});i.callback()}})};n.EmpLoginByKey=function(t){var i=n.extend({tranRowKey:Guid,callback:function(){}},t);n.reqData({url:"ajax/GetEmp.ashx",data:{tranKey:i.tranRowKey},callback:function(t){n.removeCookie("UserEmp");var r=t;r.birthday=jsonToDateTime(r.birthday);r.nameFull=r.title+r.fName+" "+r.lName;n.cookie("UserEmp",JSON.stringify(r),{expires:7});i.callback()}})};n.EmpLoginChk=function(t){var i=n.extend({cookie_name:"UserEmp",callback:function(){}},t);typeof n.cookie(i.cookie_name)=="undefined"?i.callback(!1):i.callback(!0)};n.getPermission=function(t){var i=n.extend({data:[],callback:function(){}},t);n.reqData({url:"ajax/GetPermission.ashx",data:{tranKey:getEmp()===""?Guid:getEmp().RowKey,items:i.data},callback:function(n){i.callback(n)}})};n.appImage=function(t){var i=n.extend({dfNew:!0,dfUrl:"",dfKey:Guid,dfName:"#",eleMain:"#divImage",htmlDisplay:'<div><img class="imgClass" /><input type="file" name="fileName[]" style="display:none;" /><\/div>',callback:function(){}},t),e=n("body#bodySystem"),v=e.find("div#div_temp").remove(),r=e.append('<div id="div_temp" style="display:none;"><\/div>').find("#div_temp"),o=n(i.eleMain),u="f"+(new Date).valueOf(),h=i.htmlDisplay.replace("#fid",u).replace("#datakey",i.dfKey).replace("#fname",i.dfName),f;r.append(h);var c=n("#"+u).find("input[type=file]"),l=n("#"+u).find("img"),a=n("#"+u).find(".fName"),s=!0;try{i.dfNew?c.on("change",function(n){var t,i,f;try{t=n.target;t.files[0].type.match("image.*")?(i=new FileReader,i.onload=function(){var n=i.result;l.prop("src",n)},i.readAsDataURL(t.files[0]),a.text(t.files[0].name),f=r.find("#"+u),o.append(f),r.remove()):r.remove()}catch(e){r.remove()}}).click():(f=r.find("#"+u),o.append(f),f.find("img").prop("src",i.dfUrl))}catch(y){s=!1}i.callback(s)}}(jQuery);